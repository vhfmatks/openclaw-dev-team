# Dev Team 구성안 아이디어

## 개요

AI 기반 개발 팀(Dev Team)을 구성하기 위한 다양한 접근 방식과 아이디어를 정리합니다.

## 1. 팀 구성 모델

### A. 계층형 모델 (Hierarchical Model)

```
                    ┌──────────────┐
                    │   Lead Agent │
                    │  (Orchestrator) │
                    └──────┬───────┘
                           │
        ┌──────────────────┼──────────────────┐
        │                  │                  │
   ┌────▼────┐        ┌────▼────┐        ┌────▼────┐
   │ Planner │        │Reviewer │        │  QA     │
   │  Agent  │        │  Agent  │        │  Agent  │
   └────┬────┘        └────┬────┘        └────┬────┘
        │                  │                  │
   ┌────▼────┐        ┌────▼────┐        ┌────▼────┐
   │Executor │        │Executor │        │Executor │
   │ Agent A │        │ Agent B │        │ Agent C │
   └─────────┘        └─────────┘        └─────────┘
```

**특징:**
- 명확한 책임 분배
- 상향식 보고 구조
- 의사결정 집중화

### B. 평행형 모델 (Parallel Model)

```
        ┌──────────────────────────────────────┐
        │         Shared Task Queue            │
        │    [Task1] [Task2] [Task3] [Task4]   │
        └────────────────────┬─────────────────┘
                             │
    ┌────────────┬───────────┼───────────┬────────────┐
    │            │           │           │            │
┌───▼───┐   ┌───▼───┐   ┌───▼───┐   ┌───▼───┐   ┌───▼───┐
│Worker │   │Worker │   │Worker │   │Worker │   │Worker │
│  #1   │   │  #2   │   │  #3   │   │  #4   │   │  #5   │
└───────┘   └───────┘   └───────┘   └───────┘   └───────┘
```

**특징:**
- 작업 자동 할당
- 5분 타임아웃
- 원자적 작업 클레임

### C. 파이프라인 모델 (Pipeline Model)

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ Explorer│───▶│Architect│───▶│Executor │───▶│   QA    │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
     │              │              │              │
     ▼              ▼              ▼              ▼
  Context      Design         Code          Verify
 Gathering    Planning      Implementation   Quality
```

**특징:**
- 순차적 처리
- 단계 간 데이터 전달
- 품질 게이트

### D. 스웜 모델 (Swarm Model)

```
              ┌───────────────────────────┐
              │    Coordinator/Hub        │
              │  (메시지 라우팅)            │
              └─────────────┬─────────────┘
                            │
    ┌──────────┬────────────┼────────────┬──────────┐
    │          │            │            │          │
┌───▼───┐  ┌───▼───┐    ┌───▼───┐    ┌───▼───┐  ┌───▼───┐
│Agent 1│◀─▶│Agent 2│◀──▶│Agent 3│◀──▶│Agent 4│◀─▶│Agent 5│
└───────┘  └───────┘    └───────┘    └───────┘  └───────┘
    ▲          ▲            ▲            ▲          ▲
    └──────────┴────────────┴────────────┴──────────┘
                   P2P 통신 (직접 메시징)
```

**특징:**
- 분산형 의사결정
- 에이전트 간 직접 통신
- 자가 조직화

## 2. 에이전트 역할 정의

### 코어 역할

| 역할 | 책임 | 도구 |
|------|------|------|
| **Orchestrator** | 작업 분배, 조율, 완료 검증 | Task Manager, State |
| **Planner** | 요구사항 분석, 계획 수립 | LSP, Research |
| **Architect** | 설계, 아키텍처 결정 | LSP, AST-grep |
| **Executor** | 코드 작성, 수정 | Edit, Write, AST |
| **Reviewer** | 코드 리뷰, 품질 검사 | LSP, Diagnostics |
| **QA Tester** | 테스트, 검증 | Bash, Test Runner |
| **Researcher** | 정보 수집, 문서 탐색 | Web Search, GitHub |

### 전문 역할

| 역할 | 전문 분야 | 사용 시나리오 |
|------|----------|--------------|
| **Designer** | UI/UX, 프론트엔드 | 컴포넌트 개발 |
| **Security Reviewer** | 보안, 취약점 | 보안 감사 |
| **Build Fixer** | 빌드, 타입 에러 | CI/CD 수정 |
| **TDD Guide** | 테스트 주도 개발 | 테스트 우선 개발 |
| **Scientist** | 데이터 분석, ML | 데이터 작업 |

## 3. 실행 모드

### Autopilot (자율 모드)
- 완전 자율 실행
- 아이디어 → 동작하는 코드
- 사용자 개입 불필요

### Ultrapilot (병렬 자율)
- 3-5x 빠른 실행
- 최대 5개 동시 워커
- 대규모 프로젝트용

### Ralph (지속 모드)
- 완료까지 멈추지 않음
- 자가 수정
- 실패 시 재시도

### Ecomode (효율 모드)
- 토큰 절약
- 저비용 모델 활용
- 기본 작업용

### UltraQA (QA 사이클)
- 테스트 → 수정 → 반복
- 품질 보장
- 자동화된 QA

## 4. 기술 스택 고려사항

### 오케스트레이션 레이어
```
┌─────────────────────────────────────────────────┐
│              Orchestrator Core                   │
├─────────────────────────────────────────────────┤
│  State Management │ Task Queue │ Communication  │
├─────────────────────────────────────────────────┤
│              Agent Runtime                       │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐       │
│  │LLM 1│ │LLM 2│ │LLM 3│ │Tools│ │MCP  │       │
│  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘       │
└─────────────────────────────────────────────────┘
```

### 모델 계층 (Cost Optimization)

| 계층 | 모델 | 용도 |
|------|------|------|
| LOW | Haiku/GPT-4o-mini | 단순 조회, 기본 작업 |
| MEDIUM | Sonnet/GPT-4o | 일반 개발, 구현 |
| HIGH | Opus/GPT-5 | 복잡한 추론, 아키텍처 |

## 5. 통합 패턴

### 파일 소유권 (File Ownership)
- 각 워커에게 파일 세트 할당
- 충돌 방지
- 병렬 실행 안전성

### 공유 태스크 큐 (Shared Task Queue)
- 원자적 작업 클레임
- 타임아웃 기반 자동 해제
- 완료 시 자동 정리

### 메시지 패싱 (Message Passing)
- 에이전트 간 직접 통신
- 비동기 메시지
- 발견 공유

## 6. 참고: Team Topologies 적용

### 4가지 팀 유형
1. **Stream-aligned** - 기능 개발 (Executor 팀)
2. **Platform** - 기반 인프라 (Orchestrator)
3. **Enabling** - 기술 지원 (Researcher, Architect)
4. **Complicated Subsystem** - 전문 영역 (Security, ML)

### 상호작용 모드
- **Collaboration**: 긴밀 협력 (설계 단계)
- **X-as-a-Service**: 셀프 서비스 (도구 제공)
- **Facilitating**: 지원 (코드 리뷰)

---

**다음 단계**: `03-oh-my-opencode-analysis.md`에서 실제 구현 사례 분석
